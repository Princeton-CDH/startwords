{{/* Shortcode to wrap markdown tables with an HTML caption */}}
{{ $htmlTable := .Inner | markdownify }}
{{ $caption := .Get "caption" }}
{{ $tableClass := cond (ne (.Get "class") "") (printf " class=\"%s\" " (.Get "class")) "" }}
{{ $new := printf "<table%s> <caption>%s</caption>" $tableClass $caption }}
{{ $htmlTable := replace $htmlTable "<table>" $new }}
{{ $htmlTable | safeHTML }}