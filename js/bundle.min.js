var hideOnScroll=true;document.addEventListener('DOMContentLoaded',function(){disableHideOnScroll(2);var note=getCurrentNote();if(note){note.opacity=0;}
window.setTimeout(function(){setupNote();if(note){note.opacity=1;}},500);var observer=new IntersectionObserver(endnoteIntersectionCallback);var endnotes=document.querySelector('.footnotes');if(endnotes)observer.observe(endnotes);});window.addEventListener('hashchange',function(){setupNote();},false);window.addEventListener('scroll',function(){if(location.hash.startsWith('#fn:')&&hideOnScroll){closeNote(getCurrentNote());}});window.addEventListener('touchend',function(event){if(event.target.classList.contains('footnote-ref')){disableHideOnScroll(0.5);event.preventDefault();event.stopPropagation();event.target.click();}});function endnoteIntersectionCallback(entries,observer){entries.forEach(entry=>{var elem=entry.target;if(entry.isIntersecting){elem.classList.add('endnotes');var notes=elem.getElementsByTagName('li');Array.prototype.forEach.call(notes,function(li){li.removeAttribute('style');li.classList.remove('flip');});}else{elem.classList.remove('endnotes');}})}
function getCurrentNote(){if(location.hash.startsWith('#fn:')){return document.getElementById(location.hash.slice(1));}}
function setupNote(){var note=getCurrentNote();if(note){positionContextualNote(note);var backref=note.getElementsByClassName('footnote-backref').item(0);backref.addEventListener('click',noteCloseLinkHandler);}}
function closeNote(note){location.hash='#-';var backref=note.getElementsByClassName('footnote-backref').item(0);this.removeEventListener('click',noteCloseLinkHandler);}
function disableHideOnScroll(seconds){hideOnScroll=false;window.setTimeout(function(){hideOnScroll=true;},seconds*1000);}
function noteCloseLinkHandler(){var note=this.parentNode.parentNode;if(location.hash=='#'+note.getAttribute('id')){event.preventDefault();event.stopPropagation();}
closeNote(note);}
function positionContextualNote(note){let mql=window.matchMedia('(min-width: 415px)');if(!mql.matches){return;}
var backref=note.getElementsByClassName('footnote-backref').item(0);var ref=document.getElementById(backref.getAttribute('href').slice(1));var refLocation=ref.getBoundingClientRect();var noteTop=refLocation.top+refLocation.height+5+'px';note.style.top=refLocation.top+refLocation.height+5+'px';var noteLeft;if(refLocation.left<(note.clientWidth-125)){noteLeft=Math.max(0,refLocation.left+refLocation.width/2-70);note.classList.add('flip');}else{noteLeft=Math.max(0,Math.min(refLocation.left+refLocation.width/2-note.clientWidth+70,window.innerWidth-note.clientWidth));note.classList.remove('flip');}
note.style.left=noteLeft+'px'
note.style.bottom='auto';var noteLocation=note.getBoundingClientRect();if(noteLocation.bottom>document.documentElement.clientHeight){disableHideOnScroll(1);var adjustment=noteLocation.bottom-document.documentElement.clientHeight+10;window.scrollBy(0,adjustment);note.style.top=noteLocation.top-adjustment+'px';}};document.addEventListener('DOMContentLoaded',function(){var nav=document.querySelector('nav[aria-label=main]')
var scroll=0
function checkScroll(){var scrolled=Math.abs(document.body.getBoundingClientRect().top)
if(scrolled>scroll&&scrolled>40){if(!nav.classList.contains('hidden')){nav.classList.add('hidden')}}
else if(scrolled<scroll&&scroll-scrolled>5){if(nav.classList.contains('hidden')){nav.classList.remove('hidden')}}
scroll=scrolled}
function setHandler(){var mobile=window.matchMedia('(max-width: 768px)')
if(mobile.matches)document.addEventListener('scroll',checkScroll)
else document.removeEventListener('scroll',checkScroll)}
setHandler()
window.addEventListener('resize',setHandler)});document.addEventListener('DOMContentLoaded',function(){var button=document.querySelector('a[href="#features"]')
var features=document.getElementById('features')
if(button)button.addEventListener('click',jumpDown)
function jumpDown(event){event.preventDefault();features.scrollIntoView({behavior:'smooth'})}})